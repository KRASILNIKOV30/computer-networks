# UDP Pinger & Echo Server

Проект реализует клиент-серверное приложение на C++ для демонстрации работы протокола UDP, механизма тайм-аутов и расчета сетевых задержек (RTT).

## Описание алгоритма

### 1. Расчет RTT (Round-Trip Time)
RTT — это время, затраченное на отправку сигнала до пункта назначения и получение подтверждения обратно.

1.  Перед вызовом метода отправки (`sendto`) клиент фиксирует текущее время с высоким разрешением:
    `T_send = std::chrono::high_resolution_clock::now()`
2.  Клиент блокируется в ожидании ответа от сервера (`recvfrom`).
3.  Как только ответ получен, клиент фиксирует время получения:
    `T_recv = std::chrono::high_resolution_clock::now()`
4.  Вычисляется разница:
    `RTT = T_recv - T_send`

### 2. Обработка тайм-аутов
UDP — протокол без гарантии доставки. Пакеты могут теряться. Чтобы программа не зависла навечно в ожидании ответа на потерянный пакет, используется механизм тайм-аутов на уровне сокета.

1.  При создании сокета настраивается опция `SO_RCVTIMEO` с помощью `setsockopt`. Устанавливается лимит ожидания в **1 секунду**.
2.  При вызове `recvfrom`:
    *   **Успех:** Если данные пришли быстрее чем за 1 сек, функция возвращает данные.
    *   **Тайм-аут:** Если за 1 сек данные не пришли, ОС прерывает системный вызов с ошибкой `EAGAIN` или `EWOULDBLOCK`.
3.  Класс-обертка `UdpSocket` перехватывает этот код ошибки и выбрасывает C++ исключение `runtime_error("Request timed out")`.
4.  Клиент ловит исключение и выводит сообщение о потере пакета, вместо того чтобы аварийно завершиться.

### 3. Эмуляция потерь (Сервер)
Сервер настроен на искусственную потерю пакетов для демонстрации работы тайм-аута у клиента. С вероятностью 30% сервер получает пакет, но "забывает" отправить ответ.

## Сборка и запуск

Проект собирается с помощью CMake.
